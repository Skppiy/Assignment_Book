
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Assignment Notebook</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container { max-width: 1000px; margin: 0 auto; }
        
        .header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .header h1 { margin: 0 0 10px 0; font-size: 2.5em; }
        .header p { margin: 0; font-size: 1.1em; opacity: 0.9; }
        
        .nav {
            display: flex;
            gap: 10px;
            background: white;
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .nav button {
            flex: 1;
            padding: 15px;
            border: none;
            background: transparent;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #333;
        }
        
        .nav button.active { background: #667eea; color: white; }
        .nav button:hover:not(.active) { background: #f8f9fa; }
        
        .view { display: none; }
        .view.active { display: block; }
        
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .date-nav {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .date-nav button {
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }
        
        .date-nav button:hover { transform: scale(1.1); }
        
        .current-date {
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            min-width: 200px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn:hover { transform: translateY(-1px); }
        .btn-primary { background: #667eea; color: white; }
        .btn-success { background: #4caf50; color: white; }
        .btn-danger { background: #f44336; color: white; }
        .btn-small { padding: 5px 10px; font-size: 0.9em; }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-bottom: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .form-control:focus { outline: none; border-color: #667eea; }
        
        .class-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .class-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .class-name { font-size: 1.3em; font-weight: bold; }
        .class-period { background: #f8f9fa; padding: 5px 15px; border-radius: 20px; font-size: 0.9em; color: #666; }
        
        .section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .section h4 { margin: 0 0 15px 0; color: #555; font-size: 1.1em; }
        .completed-section { border-left: 3px solid #4caf50; }
        .notes-section { border-left: 3px solid #2196f3; }
        
        .work-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .empty-state { text-align: center; padding: 40px; color: #666; }
        .empty-state .icon { font-size: 4em; margin-bottom: 20px; }
        
        @media (max-width: 768px) {
            .nav { flex-direction: column; }
            body { padding: 10px; }
            .date-nav { flex-direction: column; gap: 10px; }
            .class-header { flex-direction: column; align-items: flex-start; gap: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö My Assignment Notebook</h1>
            <p>Digital planner for organized students</p>
        </div>
        
        <div class="nav">
            <button class="active" onclick="showView('journal')">üìù Daily Journal</button>
            <button onclick="showView('assignments')">üìã Assignment List</button>
            <button onclick="showView('notes')">üìö My Notes</button>
            <button onclick="showView('completed')">‚úÖ Completed Work</button>
            <button onclick="showView('setup')">‚öôÔ∏è Setup</button>
        </div>
        
        <!-- Daily Journal View -->
        <div class="view active" id="journalView">
            <div class="card">
                <div class="date-nav">
                    <button onclick="changeDate(-1)" title="Previous Day">&larr;</button>
                    <div class="current-date" id="currentDate">Today</div>
                    <button onclick="changeDate(1)" title="Next Day">&rarr;</button>
                    <button class="btn btn-success" onclick="goToToday()">üìÖ Today</button>
                </div>
            </div>
            <div id="classesContainer"></div>
        </div>
        
        <!-- Assignment List View -->
        <div class="view" id="assignmentsView">
            <div class="card">
                <h2>üìã Assignment List</h2>
                <p>Your pending assignments will appear here as you add them.</p>
                <button class="btn btn-primary" onclick="exportData()">üíæ Download Backup</button>
                <div id="assignmentsList" style="margin-top: 20px;">
                    <div class="empty-state">
                        <div class="icon">üìã</div>
                        <h3>No assignments yet!</h3>
                        <p>Add assignments in your Daily Journal to see them here.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Notes View -->
        <div class="view" id="notesView">
            <div class="card">
                <h2>üìö My Notes</h2>
                <p>All your notes across all dates will appear here.</p>
                <div id="notesList" style="margin-top: 20px;">
                    <div class="empty-state">
                        <div class="icon">üìù</div>
                        <h3>No notes yet!</h3>
                        <p>Start taking notes in your Daily Journal to see them here.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Completed Work View -->
        <div class="view" id="completedView">
            <div class="card">
                <h2>‚úÖ Completed Work</h2>
                <p>Your accomplishments will appear here.</p>
                <div id="completedList" style="margin-top: 20px;">
                    <div class="empty-state">
                        <div class="icon">‚úÖ</div>
                        <h3>No completed work yet!</h3>
                        <p>Mark work as completed in your Daily Journal to see it here.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Setup View -->
        <div class="view" id="setupView">
            <div class="card">
                <h2>‚öôÔ∏è Setup Your Classes</h2>
                <p>Add your classes to get started.</p>
                <div style="margin: 20px 0;">
                    <input type="text" class="form-control" id="className" placeholder="Class name (e.g., AP Biology)">
                    <input type="text" class="form-control" id="classPeriod" placeholder="Period (e.g., 1st Period)">
                    <button class="btn btn-primary" onclick="addClass()">Add Class</button>
                </div>
                <div style="margin-top: 30px; padding: 20px; background: #e8f4f8; border-radius: 10px;">
                    <h3>üíæ Backup & Restore</h3>
                    <button class="btn btn-primary" onclick="exportData()">üìÑ Download Backup</button>
                    <input type="file" id="importFile" accept=".json" onchange="importData(event)" style="display: none;">
                    <button class="btn btn-success" onclick="document.getElementById('importFile').click()">üì§ Restore Backup</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let classes = [
            { id: 1, name: "AP Biology", period: "1st Period" },
            { id: 2, name: "Algebra 2", period: "2nd Period" },
            { id: 3, name: "English 10", period: "3rd Period" }
        ];
        let journalEntries = {};
        let nextClassId = 4;
        
        function showView(viewName) {
            document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
            document.querySelectorAll('.nav button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(viewName + 'View').classList.add('active');
            event.target.classList.add('active');
            
            if (viewName === 'journal') renderJournal();
            else if (viewName === 'notes') renderNotes();
            else if (viewName === 'completed') renderCompleted();
        }
        
        function updateDateDisplay() {
            const today = new Date();
            const isToday = currentDate.toDateString() === today.toDateString();
            const prefix = isToday ? 'Today, ' : '';
            const dateStr = currentDate.toLocaleDateString('en-US', { 
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
            });
            document.getElementById('currentDate').textContent = prefix + dateStr;
        }
        
        function changeDate(days) {
            currentDate.setDate(currentDate.getDate() + days);
            updateDateDisplay();
            renderJournal();
        }
        
        function goToToday() {
            currentDate = new Date();
            updateDateDisplay();
            renderJournal();
        }
        
        function renderJournal() {
            const container = document.getElementById('classesContainer');
            if (classes.length === 0) {
                container.innerHTML = '<div class="card"><div class="empty-state"><div class="icon">üìö</div><h3>No classes set up yet!</h3><p>Go to Setup to add your classes.</p></div></div>';
                return;
            }
            
            const dateKey = getDateKey(currentDate);
            const dayEntries = journalEntries[dateKey] || {};
            
            let html = '';
            classes.forEach(classItem => {
                const entry = dayEntries[classItem.id] || { completed: [], notes: '' };
                
                html += `
                    <div class="class-card">
                        <div class="class-header">
                            <div class="class-name">${classItem.name}</div>
                            <div class="class-period">${classItem.period}</div>
                        </div>
                        
                        <div class="section completed-section">
                            <h4>‚úÖ Work Completed Today</h4>
                            <div>
                                ${entry.completed.map(work => `
                                    <div class="work-item">
                                        <span>${work}</span>
                                        <button class="btn btn-danger btn-small" onclick="removeWork(${classItem.id}, '${work.replace(/'/g, "\\'")}')">‚úï</button>
                                    </div>
                                `).join('')}
                            </div>
                            <input type="text" class="form-control" id="work-${classItem.id}" placeholder="What did you complete today?" onkeypress="handleWorkEnter(event, ${classItem.id})">
                            <button class="btn btn-primary" onclick="addWork(${classItem.id})">Add Work</button>
                        </div>
                        
                        <div class="section notes-section">
                            <h4>üìù Class Notes</h4>
                            <textarea class="form-control" id="notes-${classItem.id}" rows="3" placeholder="What did you learn today?" onblur="saveNotes(${classItem.id})">${entry.notes}</textarea>
                            <small style="color: #666; font-size: 0.85em;">üíæ Notes save automatically</small>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function addWork(classId) {
            const input = document.getElementById(`work-${classId}`);
            const work = input.value.trim();
            if (!work) return;
            
            const dateKey = getDateKey(currentDate);
            if (!journalEntries[dateKey]) journalEntries[dateKey] = {};
            if (!journalEntries[dateKey][classId]) journalEntries[dateKey][classId] = { completed: [], notes: '' };
            
            journalEntries[dateKey][classId].completed.push(work);
            input.value = '';
            saveData();
            renderJournal();
        }
        
        function removeWork(classId, work) {
            const dateKey = getDateKey(currentDate);
            if (journalEntries[dateKey] && journalEntries[dateKey][classId]) {
                journalEntries[dateKey][classId].completed = 
                    journalEntries[dateKey][classId].completed.filter(w => w !== work);
                saveData();
                renderJournal();
            }
        }
        
        function handleWorkEnter(event, classId) {
            if (event.key === 'Enter') addWork(classId);
        }
        
        function saveNotes(classId) {
            const notes = document.getElementById(`notes-${classId}`).value;
            const dateKey = getDateKey(currentDate);
            
            if (!journalEntries[dateKey]) journalEntries[dateKey] = {};
            if (!journalEntries[dateKey][classId]) journalEntries[dateKey][classId] = { completed: [], notes: '' };
            
            journalEntries[dateKey][classId].notes = notes;
            saveData();
        }
        
        function addClass() {
            const nameInput = document.getElementById('className');
            const periodInput = document.getElementById('classPeriod');
            
            const name = nameInput.value.trim();
            const period = periodInput.value.trim();
            
            if (!name) {
                alert('Please enter a class name');
                return;
            }
            
            classes.push({
                id: nextClassId++,
                name: name,
                period: period || `Period ${classes.length + 1}`
            });
            
            nameInput.value = '';
            periodInput.value = '';
            saveData();
            alert('Class added successfully!');
        }
        
        function renderNotes() {
            const container = document.getElementById('notesList');
            const allNotes = [];
            
            Object.keys(journalEntries).forEach(date => {
                Object.keys(journalEntries[date]).forEach(classId => {
                    const entry = journalEntries[date][classId];
                    if (entry.notes && entry.notes.trim()) {
                        const className = classes.find(c => c.id == classId)?.name || 'Unknown Class';
                        allNotes.push({ date, className, notes: entry.notes });
                    }
                });
            });
            
            if (allNotes.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="icon">üìù</div><h3>No notes yet!</h3><p>Start taking notes in your Daily Journal.</p></div>';
                return;
            }
            
            allNotes.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            container.innerHTML = allNotes.map(note => `
                <div class="card" style="margin-bottom: 15px;">
                    <h4>${note.className}</h4>
                    <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">
                        ${new Date(note.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
                    </p>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; white-space: pre-wrap;">${note.notes}</div>
                </div>
            `).join('');
        }
        
        function renderCompleted() {
            const container = document.getElementById('completedList');
            const allCompleted = [];
            
            Object.keys(journalEntries).forEach(date => {
                Object.keys(journalEntries[date]).forEach(classId => {
                    const entry = journalEntries[date][classId];
                    if (entry.completed && entry.completed.length > 0) {
                        const className = classes.find(c => c.id == classId)?.name || 'Unknown Class';
                        entry.completed.forEach(work => {
                            allCompleted.push({ date, className, work });
                        });
                    }
                });
            });
            
            if (allCompleted.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="icon">‚úÖ</div><h3>No completed work yet!</h3><p>Mark work as completed in your Daily Journal.</p></div>';
                return;
            }
            
            allCompleted.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            container.innerHTML = allCompleted.map(item => `
                <div class="work-item" style="margin-bottom: 10px;">
                    <div>
                        <div style="font-weight: 600;">${item.work}</div>
                        <div style="font-size: 0.9em; color: #666;">${item.className} ‚Ä¢ ${new Date(item.date).toLocaleDateString()}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function getDateKey(date) { return date.toISOString().split('T')[0]; }
        
        function saveData() {
            try {
                localStorage.setItem('assignmentNotebook_classes', JSON.stringify(classes));
                localStorage.setItem('assignmentNotebook_entries', JSON.stringify(journalEntries));
                localStorage.setItem('assignmentNotebook_nextClassId', nextClassId.toString());
            } catch (e) { console.error('Save failed:', e); }
        }
        
        function loadData() {
            try {
                const savedClasses = localStorage.getItem('assignmentNotebook_classes');
                const savedEntries = localStorage.getItem('assignmentNotebook_entries');
                const savedNextId = localStorage.getItem('assignmentNotebook_nextClassId');
                
                if (savedClasses) classes = JSON.parse(savedClasses);
                if (savedEntries) journalEntries = JSON.parse(savedEntries);
                if (savedNextId) nextClassId = parseInt(savedNextId);
            } catch (e) { console.error('Load failed:', e); }
        }
        
        function exportData() {
            const data = {
                version: "1.0",
                exportDate: new Date().toISOString(),
                classes: classes,
                journalEntries: journalEntries
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'MyAssignments_' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            alert('üìÑ Backup downloaded successfully!');
        }
        
        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    if (confirm('This will replace your current data. Continue?')) {
                        if (data.classes) classes = data.classes;
                        if (data.journalEntries) journalEntries = data.journalEntries;
                        saveData();
                        alert('‚úÖ Data restored successfully!');
                        location.reload();
                    }
                } catch (error) { alert('‚ùå Invalid backup file'); }
            };
            reader.readAsText(file);
            event.target.value = '';
        }
        
        function init() {
            loadData();
            updateDateDisplay();
            renderJournal();
        }
        
        init();
    </script>
</body>
</html>
```

**How to use:**
1. Copy this entire code
2. Save it as "assignment-notebook.html" 
3. Double-click the file to open it in your browser
4. It will work perfectly with all features!

This should solve the rendering issue and give you a fully functional assignment notebook app.
